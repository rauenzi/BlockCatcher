(()=>{"use strict";var t={354:(t,e,i)=>{i.d(e,{Z:()=>a});var s=i(916),r=i.n(s),n=i(282),o=i.n(n)()(r());o.push([t.id,"*,::before,::after{-webkit-box-sizing:border-box;box-sizing:border-box}html{width:512px;margin:10px auto 0 auto;font-family:verdana,arial,sans-serif;background:#1e1e1e}body{background:#3c3c3c;min-width:fit-content;padding:1px 20px 20px 20px;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.25);color:#ddd}canvas{border:3px solid #000}.wide{width:512px;text-align:center}h2,legend{font-weight:700;color:#0f0}.flex{display:flex;flex-wrap:wrap}.column{flex-direction:column}.flex-wrap{flex-wrap:wrap}.no-wrap{flex-wrap:nowrap}.flex-center{justify-content:center;align-items:center}.flex-align-center{align-items:center}.flex-justify-center{justify-content:center}.flex-space-evenly{justify-content:space-evenly}.flex-25{flex:0 0 25%;max-width:25%}.flex-33{flex:0 0 33.33333%;max-width:33.33333%}.flex-50{flex:0 0 50%;max-width:50%}.flex-66{flex:0 0 66.666666%;max-width:66.666666%}.flex-75{flex:0 0 75%;max-width:75%}@media only screen and (max-width:768px){.flex-25,.flex-33,.flex-50,.flex-66,.flex-75{flex:0 0 100%;max-width:100%}}#game-display{border-radius:12px;overflow:hidden}#hud{background-color:#000;justify-content:space-between;padding:10px 20px}#canvas-wrap{position:relative}.overlay{position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,.9);transition:opacity 200ms ease;opacity:1}.overlay span{display:flex;justify-content:center;align-items:center;font-weight:600}#status{font-size:32px}#status.loss{color:red}#status.win{color:green}",""]);const a=o},282:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",s=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),s&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),s&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,s,r,n){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(s)for(var a=0;a<this.length;a++){var h=this[a][0];null!=h&&(o[h]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);s&&o[c[0]]||(void 0!==n&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=n),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),e.push(c))}},e}},916:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function i(t){for(var i=-1,s=0;s<e.length;s++)if(e[s].identifier===t){i=s;break}return i}function s(t,s){for(var n={},o=[],a=0;a<t.length;a++){var h=t[a],l=s.base?h[0]+s.base:h[0],c=n[l]||0,d="".concat(l," ").concat(c);n[l]=c+1;var f=i(d),p={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==f)e[f].references++,e[f].updater(p);else{var u=r(p,s);s.byIndex=a,e.splice(a,0,{identifier:d,updater:u,references:1})}o.push(d)}return o}function r(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var n=s(t=t||[],r=r||{});return function(t){t=t||[];for(var o=0;o<n.length;o++){var a=i(n[o]);e[a].references--}for(var h=s(t,r),l=0;l<n.length;l++){var c=i(n[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}n=h}}},976:t=>{var e={};t.exports=function(t,i){var s=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},566:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},147:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},298:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,r&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var n=i.sourceMap;n&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},396:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={id:s,exports:{}};return t[s](n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nc=void 0,(()=>{function t(){return function(t,e=0){return t.concat(Array(e).fill(0)).slice(0,e)}([...arguments],2)}const e="attribute vec4 myPosition;\n\nuniform float xshift;\nuniform float yshift;\nmat3 Mtrans;\n\nvoid main() {\nvec3 vi;\nvi[0] = myPosition.x;\nvi[1] = myPosition.y;\nvi[2] = 1.0;\nMtrans = mat3(1,0,0,\n              0,1,0,\n              xshift,yshift,1);\n    vi = Mtrans * vi;\n    gl_PointSize = 1.0;\n    gl_Position.x = vi[0];\n    gl_Position.y = vi[1];\n    gl_Position.z = 0.0;\n    gl_Position.w = 1.0;\n}",s="precision mediump float;\n\nuniform vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}",r=[0,1,0];class n{constructor(e){this.webgl=e,this.points=[t(-.15,-.925),t(.15,-.925),t(.15,-.975),t(-.15,-.975)],this.leftTopMax=0,this.rightBottomMax=2,this.shiftX=0,this.shiftY=0,this.deltaTrans=.03,this.buffer=this.webgl.createBuffer(),this.webgl.bindBuffer(this.webgl.ARRAY_BUFFER,this.buffer),this.webgl.bufferData(this.webgl.ARRAY_BUFFER,Float32Array.from(this.points.flat()),this.webgl.STATIC_DRAW),this.velocity=0,this.attachShaders()}attachShaders(){const t=this.webgl.createShader(this.webgl.VERTEX_SHADER);this.webgl.shaderSource(t,e),this.webgl.compileShader(t);const i=this.webgl.createShader(this.webgl.FRAGMENT_SHADER);this.webgl.shaderSource(i,s),this.webgl.compileShader(i),this.shaderProgram=this.webgl.createProgram(),this.webgl.attachShader(this.shaderProgram,t),this.webgl.attachShader(this.shaderProgram,i),this.webgl.linkProgram(this.shaderProgram)}attachVariables(){const t=this.webgl.getAttribLocation(this.shaderProgram,"myPosition");this.webgl.vertexAttribPointer(t,2,this.webgl.FLOAT,!1,0,0),this.webgl.enableVertexAttribArray(t),this.xshiftLoc=this.webgl.getUniformLocation(this.shaderProgram,"xshift"),this.webgl.uniform1f(this.xshiftLoc,this.shiftX),this.yshiftLoc=this.webgl.getUniformLocation(this.shaderProgram,"yshift"),this.colorLocation=this.webgl.getUniformLocation(this.shaderProgram,"u_color"),this.webgl.uniform4f(this.colorLocation,...r,1)}moveX(t,e){let i=t?this.deltaTrans:-this.deltaTrans;if(i*=e/25,this.points[this.leftTopMax][0]+i>=-1.01&&this.points[this.rightBottomMax][0]+i<1.01){this.shiftX+=i;for(let t=0;t<this.points.length;t++)this.points[t][0]=this.points[t][0]+i}}render(t,e,i){this.webgl.useProgram(this.shaderProgram),this.webgl.bindBuffer(this.webgl.ARRAY_BUFFER,this.buffer),t&&this.moveX(!1,i),e&&this.moveX(!0,i),this.attachVariables(),this.webgl.drawArrays(this.webgl.TRIANGLE_FAN,0,this.points.length)}}const o={red:{color:[1,0,0],speed:1,size:2.5,points:1},blue:{color:[0,0,1],speed:2,size:1.5,points:5},white:{color:[1,1,1],speed:3,size:1,points:25},key:function(t){return this[Object.keys(this)[t-1]]}},a=.1;class h{constructor(e){this.webgl=e,this.blockID=Math.floor(3*Math.random()+1),this.blockData=o.key(this.blockID),this.startx=Math.random()*(1-a*this.blockData.size+1)-1,this.points=[t(this.startx,1.01+a*this.blockData.size),t(this.startx+a*this.blockData.size,1.01+a*this.blockData.size),t(this.startx+a*this.blockData.size,1.01),t(this.startx,1.01)],this.leftTopMax=0,this.rightBottomMax=2,this.shiftX=0,this.shiftY=0,this.deltaTrans=.01*this.blockData.speed,this.buffer=this.webgl.createBuffer(),this.webgl.bindBuffer(this.webgl.ARRAY_BUFFER,this.buffer),this.webgl.bufferData(this.webgl.ARRAY_BUFFER,Float32Array.from(this.points.flat()),this.webgl.STATIC_DRAW),this.attachShaders()}attachShaders(){const t=this.webgl.createShader(this.webgl.VERTEX_SHADER);this.webgl.shaderSource(t,e),this.webgl.compileShader(t);const i=this.webgl.createShader(this.webgl.FRAGMENT_SHADER);this.webgl.shaderSource(i,s),this.webgl.compileShader(i),this.shaderProgram=this.webgl.createProgram(),this.webgl.attachShader(this.shaderProgram,t),this.webgl.attachShader(this.shaderProgram,i),this.webgl.linkProgram(this.shaderProgram)}attachVariables(){const t=this.webgl.getAttribLocation(this.shaderProgram,"myPosition");this.webgl.vertexAttribPointer(t,2,this.webgl.FLOAT,!1,0,0),this.webgl.enableVertexAttribArray(t),this.xshiftLoc=this.webgl.getUniformLocation(this.shaderProgram,"xshift"),this.yshiftLoc=this.webgl.getUniformLocation(this.shaderProgram,"yshift"),this.colorLocation=this.webgl.getUniformLocation(this.shaderProgram,"u_color"),this.webgl.uniform4f(this.colorLocation,...this.blockData.color,1)}moveX(t){const e=t?this.deltaTrans:-this.deltaTrans;if(this.points[this.leftTopMax][0]+e>=-1.01&&this.points[this.rightBottomMax][0]+e<1.01){this.shiftX+=e;for(let t=0;t<this.points.length;t++)this.points[t][0]=this.points[t][0]+e}}moveY(t,e){let i=t?this.deltaTrans:-this.deltaTrans;i*=e/25,this.shiftY+=i;for(let t=0;t<this.points.length;t++)this.points[t][1]=this.points[t][1]+i}render(t){this.webgl.useProgram(this.shaderProgram),this.webgl.bindBuffer(this.webgl.ARRAY_BUFFER,this.buffer),this.attachVariables(),this.moveY(!1,t),this.webgl.uniform1f(this.yshiftLoc,this.shiftY),this.webgl.drawArrays(this.webgl.TRIANGLE_FAN,0,this.points.length)}}var l=i(72),c=i.n(l),d=i(298),f=i.n(d),p=i(976),u=i.n(p),g=i(147),m=i.n(g),b=i(566),w=i.n(b),x=i(396),v=i.n(x),y=i(354),A={};let T;A.styleTagTransform=v(),A.setAttributes=m(),A.insert=u().bind(null,"head"),A.domAPI=f(),A.insertStyleElement=w(),c()(y.Z,A),y.Z&&y.Z.locals&&y.Z.locals;const P=[];let k;const E=new Array(4);let L,R,S,D,M,B=0,_=!1,F=performance.now();new class{constructor(){this.render=this.render.bind(this),this.spawnBlocks=this.spawnBlocks.bind(this),this.keyDown=this.keyDown.bind(this),this.keyUp=this.keyUp.bind(this),this.startTimer=this.startTimer.bind(this),this.startGame=this.startGame.bind(this),this.initialize=this.initialize.bind(this),document.addEventListener("DOMContentLoaded",this.initialize),document.addEventListener("keyup",this.keyUp),document.addEventListener("keydown",this.keyDown)}initialize(){L=document.getElementById("time"),R=document.getElementById("score"),S=document.getElementById("status"),D=document.getElementById("play");const t=document.getElementById("gl-canvas");k=t.getContext("webgl"),k||alert("WebGL is not available"),k.viewport(0,0,512,512),k.clearColor(0,0,0,1),k.clear(k.COLOR_BUFFER_BIT);const e=F;T=new n(k),T.render(!1,!1,0),this.render(e)}keyDown(t){const e=t.keyCode;32==e?t.preventDefault():37==e?(t.preventDefault(),E[2]=_):38==e?(t.preventDefault(),E[0]=_):39==e?(t.preventDefault(),E[3]=_):40==e&&(t.preventDefault(),E[1]=_)}keyUp(t){const e=t.keyCode;32==e?(t.preventDefault(),this.startGame()):37==e?(t.preventDefault(),E[2]=!1):38==e?(t.preventDefault(),E[0]=!1):39==e?(t.preventDefault(),E[3]=!1):40==e&&(t.preventDefault(),E[1]=!1)}render(t){const e=t-F;F=t,k.clear(k.COLOR_BUFFER_BIT),T.render(E[2],E[3],e);for(let t=0;t<P.length;t++)P[t].render(e),P[t].points[P[t].rightBottomMax][1]<=T.points[T.leftTopMax][1]&&P[t].points[P[t].leftTopMax][1]>=T.points[T.rightBottomMax][1]&&P[t].points[P[t].rightBottomMax][0]>=T.points[T.leftTopMax][0]&&P[t].points[P[t].leftTopMax][0]<=T.points[T.rightBottomMax][0]?(B+=P[t].blockData.points,R.textContent=B,P.splice(t,1),t--):P[t].points[P[t].leftTopMax][1]<=-1&&(P.splice(t,1),t--);window.requestAnimationFrame(this.render)}startTimer(t,e){let i,s,r=t;M=setInterval((()=>{i=parseInt(r/60,10),s=parseInt(r%60,10),i=i<10?"0"+i:i,s=s<10?"0"+s:s,e.textContent=i+":"+s,this.spawnBlocks(r),--r<0&&(r=0)}),1e3)}startGame(){0==_&&(_=!0,B=0,R.textContent=B,S.classList.remove("win"),S.classList.remove("loss"),D.parentElement.style.opacity=0,this.startTimer(10,L))}spawnBlocks(t){0!=t?P.push(new h(k)):(P.splice(0,P.length),clearInterval(M),L.textContent="01:00",_=!1,B>=1?(S.textContent="YOU WON!",S.classList.add("win")):(S.textContent="YOU LOST!",S.classList.add("loss")),D.parentElement.style.opacity="",D.textContent="Press SPACE to play again!")}}})()})();